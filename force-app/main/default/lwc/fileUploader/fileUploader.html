<template>
    <lightning-card title="File Upload">
        <div class="slds-m-around_medium">

            <lightning-file-upload
                label="Add Files"
                multiple
                accept=".pdf,.zip,.mp4,.jpg,.png"
                onuploadfinished={handleUploadFinished}>
            </lightning-file-upload>

            <template if:true={uploadedFiles.length}>
                <div class="slds-m-top_medium">
                    <h3 class="slds-text-title_caps">Selected Files</h3>
                    <ul class="slds-list_dotted slds-m-top_small">
                        <template for:each={uploadedFiles} for:item="file">
                            <li key={file.documentId}>
                                {file.name} ({file.size} bytes)
                            </li>
                        </template>
                    </ul>
                </div>
            </template>

            <template if:true={showProgress}>
                <div class="slds-m-top_medium">
                    <lightning-progress-indicator current-step={currentStep} type="base">
                        <lightning-progress-step label="Selected" value="1"></lightning-progress-step>
                        <lightning-progress-step label="Uploading" value="2"></lightning-progress-step>
                        <lightning-progress-step label="Ready" value="3"></lightning-progress-step>
                    </lightning-progress-indicator>

                    <div class="slds-m-top_small slds-text-body_small">
                        {statusMessage}
                    </div>
                </div>
            </template>

            <div class="slds-m-top_large">
                <lightning-button
                    label="Submit"
                    variant="brand"
                    onclick={handleSubmit}
                    disabled={isSubmitDisabled}
                    class="slds-m-right_small">
                </lightning-button>

                <lightning-button
                    label="Clear"
                    variant="neutral"
                    onclick={handleClear}>
                </lightning-button>
            </div>

        </div>
    </lightning-card>
</template>